Виды интеграции

* Управляемые клиентом: Клиент (через действия пользователя) инициирует запрос к серверу, чтобы обновить данные. Например, пользователь отправляет форму (POST-запрос) через приложение, и сервер сохраняет эти данные.
* Управляемые сервером: Действия происходят на сервере (по инициативе человека или системы), и клиент должен быть уведомлён об изменениях. Например, администратор обновляет данные на сервере, и клиентское приложение должно отобразить эти изменения.

**Интеграция, управляемая клиентом**

Чтобы продемонстрировать, почему интеграция, управляемая клиентом, проста, давайте обратимся к нашей надежной пиццерии и ее API для заказа пиццы. Допустим, мы выпускаем приложение для смартфона, использующее API. В этом сценарии API пиццерии является сервером, а приложение для смартфона — клиентом. Клиент использует приложение, чтобы выбрать пиццу, а затем нажимает кнопку, чтобы разместить заказ. Как только кнопка нажата, приложение знает, что ему нужно сделать запрос к API пиццерии.

В более общем смысле, когда человек взаимодействует с клиентом, клиент точно знает, когда данные изменяются, поэтому он может немедленно вызвать API, чтобы сообщить серверу. Нет никакой задержки (следовательно, происходит в реальном времени), и процесс эффективен, потому что для каждого действия, предпринимаемого человеком, делается только один запрос.

**Интеграция, управляемая сервером**

После размещения заказа на пиццу покупатель может захотеть узнать, когда пицца будет готова. Как мы используем API, чтобы предоставлять им обновления? Что ж, это немного сложнее. Покупатель не имеет отношения к приготовлению пиццы. Он ждет, пока пиццерия приготовит пиццу и обновит статус заказа. Другими словами, данные на сервере меняются, и клиент должен знать об этом. Тем не менее, если сервер не может делать запросы, мы, кажется, застряли!

Для решения этого типа проблемы мы используем вторую категорию интеграций. Есть ряд решений, которые разработчики программного обеспечения используют, чтобы обойти ограничение, что только клиенты могут отправлять запросы. Давайте посмотрим на каждое из таких решений.





Интеграция, управляемая сервером — это способ обмена данными, при котором сервер инициирует передачу информации клиенту, когда на сервере происходят изменения данных.

В отличие от интеграции, управляемой клиентом (где клиент запрашивает данные, когда ему это нужно), здесь ситуация обратная: сервер должен "уведомить" клиента о том, что что-то изменилось.

Почему это сложнее?

Основная проблема в том, что в стандартной архитектуре HTTP только клиент может инициировать запросы. Сервер не может просто взять и отправить данные клиенту по собственной инициативе.

Пример из текста

В случае с пиццерией:



Клиент не контролирует процесс: покупатель не готовит пиццу и не знает, когда она будет готова

Сервер знает об изменениях: только пиццерия знает, когда пицца готова

Нужно уведомить клиента: приложение должно показать покупателю обновленный статус заказа



Типичные решения

Для решения этой проблемы используются различные техники:



Polling (опрос) — клиент периодически спрашивает сервер о статусе

WebSockets — постоянное соединение для двусторонней связи

Server-Sent Events — сервер отправляет события клиенту

Webhooks — сервер делает HTTP-запросы на заранее указанный URL клиента

Push-уведомления — через специальные сервисы уведомлений



Интеграция, управляемая сервером, критически важна для создания интерактивных приложений реального времени, где пользователи должны получать актуальную информацию без постоянного обновления страницы.

